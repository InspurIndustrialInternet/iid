# **Inspur Chain DID身份标识协议规范**Version 1.0.0关于 -----​        Inspur Chain DID（以下简称IID）方法规范符合W3C社区小组当前发布的DID规范中的要求。有关DID和DID方法规范的更多信息，请参阅[DID入门](https://github.com/WebOfTrustInfo/rebooting-the-web-of-trust-fall2017/blob/master/topics-and-advance-readings/did-primer.md)和[DID规范](https://w3c-ccg.github.io/did-spec/)。摘要----​        为人、企业、设备和数字对象等提供分布式标识和区块链数字身份服务，旨在构建一套去中心化的、权利下放的、数据安全、隐私得到保护的并且好用的、灵活的标识符系统，能够解决人、企业、设备和数字对象等的可信连接、交互和互操作，实现万物互联、信任万物的愿景。​       IID是⼀个去中心化的身份标识协议，IID具有去中心化、自主管理、隐私保护、安全易用等特点。每⼀个IID都会对应到⼀个IID描述对象（IIDDDO）。文档状态--------​          本文档当前为1.0版本，在文档正式发布时，可能会由其他更新的版本替代。可以在[GitHub](https://github.com/InspurIndustrialInternet/iid/tree/main/doc/cn/InspurChain-IID身份标识协议规范.md))地址中获取本技术报告的最新版本。## 1. IID命名空间- 标识此DID方法的method name 是： iid- 使用此方法的DID必须以下前缀开头：did:iid。根据DID规范，此字符串必须为小写。在前缀之后的DID的剩余部分是由下面特定算法生成。## 2. 适用系统   这种DID方法适用于Inspur Chain网络，从Inspur Chain发布开始正式使用。## 3. IID标识符IID标识符遵循如下结构：```inspur-did            = "did:iid:"<did-identifier>did-identifier      = <base-58-encoded-iid-address>```所有IID遵循"did:iid:" 加上 inspur did Method-Specific Identifier生成规则生成的字符串拼接组成。举个例子：```did:iid:5ypZZrSRz25SmhG9TxaqAuxJzJe96DJebhvGSjFgn8c3iBykrKEkfUv```## 4. IID DDO规范-----------IID对应的身份描述对象DDO存储在Inspur Chain区块链，由DDO的控制人写入到区块链，并向所有用户开放读取。DDO规范包含如下信息：-   @context：必填字段。一组解释 JSON-LD 文档的规则,遵循 DID 规范，用于实现不同DID Document 的互操作，必须包含     https://www.w3.org/ns/did/v1。    -   id：必填字段。文档的 IID。 -   publicKey：必填字段。一组公钥，包含 id，type，publicKeyHex三个字段。    -   id: 公钥对应的IID标识符。    -   type：代表公钥的加密算法类型，支持 Secp256k1和 RSA两种。    -   publicKeyHex：公钥十六进制字符串。    -	authentication：必填字段。表明此 IID 的归属，拥有此公钥对应私钥的一方可以控制和管理此 IID 文档。-	recovery：必填字段。可用于恢复公私钥对。-	proof：必填字段。主私钥对DDO的签名，包含type，creator,signatureValue三个字段。     -   type: 代表签名算法类型，支持 Secp256k1.	 -  creator：此签名的创建者。	 -  signatureValue：签名的十六进制字符串。	-	created：必填字段。创建时间。-	updated：必填字段。上次的更新时间。举个例子：```{    "id":"did:iid:3rQgQUuV4mTUSB8WEAEUy29zdBNjxDWiAdL9dZYDsZu1pLT7if72H7F",    "version":1,    "created":"2022-05-31T08:10:01Z",    "updated":"2022-05-31T08:10:01Z",    "publicKey":[        {            "id":"did:iid:3rQgQUuV4mTUSB8WEAEUy29zdBNjxDWiAdL9dZYDsZu1pLT7if72H7F#key-1",            "type":"secp256k1",            "publicKeyHex":"04695bebfb4c661fa2ffa92ac72a43dec3489546798fe08c294dd652b2231ca0a9e13a5e5f0a8cd336d455658866888adeb4638d99505c530df1ab43e38034dd3a"        },        {            "id":"did:iid:3rQgQUuV4mTUSB8WEAEUy29zdBNjxDWiAdL9dZYDsZu1pLT7if72H7F#key-2",            "type":"secp256k1",            "publicKeyHex":"043f5580a732563bbf9864415b98173f1ae78bb9b4a8ccdb8d81cab2fe15f4fd5e90efe881517f05773efc2eafdea3563e712563b1a4a687f66b8b0674bb1cbbde"        }    ],    "authentication":[        "did:iid:3rQgQUuV4mTUSB8WEAEUy29zdBNjxDWiAdL9dZYDsZu1pLT7if72H7F#key-1"    ],    "recovery":[        "did:iid:3rQgQUuV4mTUSB8WEAEUy29zdBNjxDWiAdL9dZYDsZu1pLT7if72H7F#key-2"    ],    "service":null,    "proof":{        "type":"secp256k1",        "creator":"did:iid:3rQgQUuV4mTUSB8WEAEUy29zdBNjxDWiAdL9dZYDsZu1pLT7if72H7F#keys-1",        "signatureValue":"304402206f535aeb2dd7269ad04dc5434bdf25052091f890751be8abb0b385fea7170d3602207a6717bfc92e9fa38c6aa8253b398fbbd72dad02e2903d130130fc33ab36711e"    },    "@context":"https://w3id.org/did/v1"}```## 5. IID 操作方法--------IID现目前有一下几种操作方法，可提供给用户做新增,删除,查询，重置主密钥对等操作。### 5.1 新增用户调用new方法启用该IID```Result new(DIDDocument doc)```参数：doc:要启用的iid对应的DIDDocument对象### 5.2 删除用户调用delete方法删除该IID，只有IID对应私钥持有人才可以删除该IID```Result delete(DeleteDocument doc)```参数：doc：要删除的iid的DeleteDocument对象### 5.3 查询用户调用get方法查询该IID,面向所有人可查询```  Result get((String iid))```参数：iid:传入的IID值### 5.4 重置主密钥对当主公钥对应的私钥遗失的时候，可以用备用公钥对应的私钥来重置主备公钥。原有的备用公钥将成为主公钥，新增一个公钥为备用公钥```Result reset((DIDDocument doc))```参数：doc:要重置主密钥对的iid对应的DIDDocument对象